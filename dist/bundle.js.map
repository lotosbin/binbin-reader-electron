{"version":3,"sources":["webpack:///webpack/bootstrap 9b9274b8f946918afc95","webpack:///./src/index.tsx","webpack:///./src/components/detail.ts","webpack:///external \"electron\"","webpack:///external \"vue\"","webpack:///./src/components/emitter.ts","webpack:///external \"events\"","webpack:///./src/storage/article.ts","webpack:///external \"lodash\"","webpack:///./src/components/history.ts","webpack:///./src/components/provider.ts","webpack:///external \"fs\"","webpack:///external \"opml-to-json\"","webpack:///external \"json-path\"","webpack:///./src/storage/feed.ts","webpack:///./src/components/feed.ts","webpack:///external \"feed-reader\""],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9b9274b8f946918afc95\n **/","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\n// ReactDOM.render(\n//     <Hello compiler=\"TypeScript\" framework=\"React\" />,\n//     document.getElementById(\"example\")\n// );\n\nimport detail from \"./components/detail\";\nimport feed from \"./components/feed\";\nimport history from \"./components/history\";\nimport provider from \"./components/provider\";\nprovider.UpdateFeeds(() => {\n});\nlet updating = false;\nfunction UpdateFeedsArticles() {\n  if (!updating) {\n    updating = true;\n    provider.UpdateFeedsArticles(() => {\n      updating = false;\n    });\n  }\n}\n\nsetInterval(() => {\n  UpdateFeedsArticles();\n}, 1000 * 60 * 30); // 30 minus\n// UpdateFeedsArticles();\n\ndetail.Init()\nhistory.Init()\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.tsx\n **/","/**\n * Created by liubinbin on 16/08/2016.\n */\nimport {shell} from 'electron'\nimport * as Vue from 'vue'\nimport emitter from \"./emitter\";\nimport articleStorage from '../storage/article'\nvar vue = new Vue({\n  el: '#detail',\n  data: {\n    url: 'http://www.yuanjingtech.com',\n    progress: 0\n  },\n  methods: {\n    UpdateUrl: function (url:string) {\n      this.url = url\n    },\n    UpdateProgress: function (progress:number) {\n      this.progress = progress\n    },\n    OnOpenInBrowser: function (event) {\n      shell.openExternal(this.url)\n    },\n    MarkReaded: function () {\n      articleStorage.Read({id: this.url}, ()=> {\n      })\n    }\n  }\n})\nvar webview = document.getElementById('webview');\nwebview.addEventListener('did-start-loading', function () {\n  vue.UpdateProgress(20)\n})\nwebview.addEventListener('did-stop-loading', function () {\n  vue.UpdateProgress(100)\n  vue.MarkReaded()\n  emitter.emit('refresh_list', {})\n})\nclass Detail {\n  Init() {\n\n  }\n}\n\nemitter.on(\"open_in_detail\", (entry) => {\n  var url = entry.link\n  vue.UpdateUrl(url)\n  webview.src = url\n});\nvar detail = new Detail();\nexport default detail\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/detail.ts\n **/","module.exports = require(\"electron\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"electron\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"vue\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"vue\"\n ** module id = 5\n ** module chunks = 0\n **/","/**\n * Created by liubinbin on 17/08/2016.\n */\nimport {EventEmitter} from 'events'\nvar emitter = new EventEmitter()\nexport default emitter\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/emitter.ts\n **/","module.exports = require(\"events\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"events\"\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * Created by liubinbin on 15/08/2016.\n */\nimport * as _ from 'lodash'\nconst ArticleTableName = \"ARTICLES3\"\nclass ArticleStorage {\n  Add({title, link, feed_xmlurl}, callback) {\n    var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);\n    var msg;\n    db.transaction(function (tx) {\n      tx.executeSql(`INSERT INTO ${ArticleTableName}  (id, title,link,feed_xmlurl,readed) VALUES (? ,?,?,?,?)`, [link, title, link, feed_xmlurl, 0], function (transaction, results) {\n\n      }, function (transation, error) {\n        console.log(error)\n      });\n    });\n  }\n\n  Read({id}, callback) {\n    var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);\n    var msg;\n    db.transaction(function (tx) {\n      tx.executeSql(`UPDATE ${ArticleTableName} SET readed = 1 WHERE id=? `, [id], function (transaction, results) {\n\n      }, function (transation, error) {\n        console.log(error)\n      });\n    });\n  }\n\n  Init() {\n    var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);\n    var msg;\n\n    db.transaction(function (tx) {\n      tx.executeSql(`CREATE TABLE IF NOT EXISTS ${ArticleTableName} (id UNIQUE, title, link, feed_xmlurl,readed)`);\n      msg = '<p>created </p>';\n      console.log(msg)\n    });\n  }\n\n\n  AddRange(items, feed_xmlurl, callback) {\n    _(items).forEach((value)=> {\n      this.Add({title: value.title, link: value.link, feed_xmlurl: feed_xmlurl}, ()=> {\n      })\n    })\n  }\n\n  Find({}, callback) {\n    var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);\n    var msg;\n\n    db.transaction(function (tx) {\n      tx.executeSql(`SELECT * FROM ${ArticleTableName}  ORDER BY readed,rowid DESC LIMIT 100`, [], function (tx, results) {\n        callback(null, results)\n      }, null);\n    });\n  }\n}\n\nvar articleStorage = new ArticleStorage();\narticleStorage.Init()\n\nexport default articleStorage\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/storage/article.ts\n **/","module.exports = require(\"lodash\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"lodash\"\n ** module id = 9\n ** module chunks = 0\n **/","/**\n * Created by liubinbin on 16/08/2016.\n */\nimport emitter from \"./emitter\"\nimport * as Vue from 'vue'\n\nvar vm = new Vue({\n  el: '#readHistory',\n  data: {\n    histories: []\n  },\n  methods: {\n    AddHistory: function (article) {\n      this.histories.unshift(article)\n    }\n  }\n})\nemitter.on('open_in_detail', (entry) => {\n  console.log('addhistory')\n  vm.AddHistory(entry)\n})\n\nclass History {\n  Init() {\n\n  }\n}\nvar history = new History();\nexport default history\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/history.ts\n **/","import {remote}  from \"electron\";\nlet dialog = remote.dialog;\nimport * as fs  from \"fs\";\nimport * as opmlToJSON from \"opml-to-json\";\nimport * as jsonPath from \"json-path\";\nimport feedStorage from \"../storage/feed\";\nimport feedService from \"./feed\";\nimport * as Vue from \"vue\";\nimport * as _ from \"lodash\";\nimport emitter from \"./emitter\";\n\n\nlet feedsVue = new Vue({\n  el: \"#app\",\n  data: {\n    feeds: [],\n  },\n  methods: {\n    updateFeeds: function (feeds) {\n      this.feeds = feeds;\n    },\n    on_open_in_list: function (feed){\n      emitter.emit(\"open_in_list\", feed);\n    },\n    onImport: function () {\n      dialog.showOpenDialog(function (fileNames) {\n        if (fileNames === undefined) return;\n        let fileName = fileNames[0];\n        fs.readFile(fileName, \"utf-8\", function (err, data) {\n          opmlToJSON(data, function (err, json) {\n            let rss = jsonPath.resolve(json, \"/children[*]/children[*]\");\n            feedStorage.AddRange(rss, () => {\n\n            });\n            provider.UpdateFeeds(() => {\n            });\n          });\n        });\n      });\n    },\n  },\n});\nfeedStorage.Init();\nclass Provider {\n  public UpdateFeeds(callback) {\n    feedStorage.Find({}, function (error, results) {\n      feedsVue.updateFeeds(results.rows);\n      if (callback)callback(null, results.rows);\n    });\n  }\n\n  public UpdateFeedsArticles(callback) {\n    this.UpdateFeeds(function (error, feeds) {\n      Promise.all(_.map(feeds, (feed) => new Promise((resolve) => {\n        feedService.GrabAndUpdateArticles(feed.xmlurl, function (error) {\n          resolve({});\n        });\n      })))\n        .then(() => {\n          if (callback)callback(null);\n        });\n    });\n  }\n}\nlet provider = new Provider();\nexport  default provider;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/provider.ts\n **/","module.exports = require(\"fs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs\"\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = require(\"opml-to-json\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"opml-to-json\"\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = require(\"json-path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"json-path\"\n ** module id = 14\n ** module chunks = 0\n **/","/**\n * Created by liubinbin on 15/08/2016.\n */\nimport * as _ from 'lodash'\nclass FeedStorage {\n  Init() {\n    var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);\n    var msg;\n\n    db.transaction(function (tx) {\n      tx.executeSql('CREATE TABLE IF NOT EXISTS FEEDS (id UNIQUE, title, xmlurl)');\n      msg = '<p>created </p>';\n      console.log(msg)\n    });\n  }\n\n  Add({title, xmlurl}, callback) {\n    var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);\n    var msg;\n    db.transaction(function (tx) {\n      tx.executeSql('INSERT INTO FEEDS (id, title,xmlurl) VALUES (? ,?,?)', [xmlurl, title, xmlurl], function (transaction, results) {\n\n      }, function (transation, error) {\n        console.log(error)\n      });\n    });\n  }\n\n  AddRange(items, callback) {\n    _(items).forEach((value) => {\n      this.Add({title: value.title, xmlurl: value.xmlurl}, ()=> {\n      })\n    })\n  }\n\n  Find({}, callback) {\n    var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);\n    var msg;\n\n    db.transaction(function (tx) {\n      tx.executeSql('SELECT * FROM FEEDS', [], function (tx, results) {\n        callback(null, results)\n      }, null);\n    });\n  }\n}\nvar feedStorage = new FeedStorage();\nfeedStorage.Init()\nexport default feedStorage\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/storage/feed.ts\n **/","import  * as Vue from 'vue'\nimport  * as reader from 'feed-reader'\nimport articleStorage from '../storage/article'\nimport emitter from './emitter'\nvar entryVue = new Vue({\n  el: '#entryList',\n  data: {\n    progress: 0,\n    entries: []\n  },\n  methods: {\n    UpdateEntries: function (entires) {\n      this.entries = entires\n    },\n    UpdateProgress: function (progress) {\n      this.progress = progress\n    },\n    on_open_in_detail: function (event, entry) {\n      event.preventDefault()\n      emitter.emit('open_in_detail', entry)\n      console.log('emit')\n    }\n  }\n})\nexport class Feed {\n  async UpdateList() {\n    articleStorage.Find({}, (error, results)=> {\n      console.log(results.rows.length)\n      entryVue.UpdateEntries(results.rows)\n    })\n  }\n\n\n  async open_in_list(xmlurl, callback) {\n    entryVue.UpdateProgress(50)\n    try {\n      this.GrabAndUpdateArticles(xmlurl, ()=> {\n      });\n      entryVue.UpdateProgress(80)\n      await this.UpdateList()\n      entryVue.UpdateProgress(100)\n      if (callback)callback(null)\n    } catch (error) {\n      console.error(JSON.stringify(error))\n      entryVue.UpdateProgress(100)\n      if (callback)callback(error)\n    }\n  }\n\n  async GrabAndUpdateArticles(xmlurl, callback) {\n    let feed = await reader.parse(xmlurl)\n    articleStorage.AddRange(feed.entries, xmlurl, ()=> {\n    })\n    if (callback)callback();\n  }\n}\nvar feed = new Feed()\nemitter.on('open_in_list', (f)=> {\n  feed.open_in_list(f.xmlurl, ()=> {\n  })\n})\nemitter.on('refresh_list', (f)=> {\n  feed.UpdateList()\n})\nexport default feed\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/feed.ts\n **/","module.exports = require(\"feed-reader\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"feed-reader\"\n ** module id = 17\n ** module chunks = 0\n **/"],"sourceRoot":""}